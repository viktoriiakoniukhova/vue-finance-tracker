(function(){"use strict";var e={3772:function(e,t,r){r.d(t,{I:function(){return Si}});var i=r(9242),a=r(3396);const s={id:"app"};function o(e,t,r,i,o,l){const n=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",s,[((0,a.wg)(),(0,a.j4)((0,a.LL)(l.layout),null,{default:(0,a.w5)((()=>[(0,a.Wm)(n)])),_:1}))])}const l={class:"grey darken-1 empty-layout"};function n(e,t,r,i,s,o){const n=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(n)])}var c=r(65),d=r(5155),u=r(1178),m={actions:{async register({dispatch:e,commit:t},{email:r,password:i,name:a}){try{await(0,d.Xb)(Si,r,i);const t=await e("getUid");await(0,u.t8)((0,u.iH)((0,u.N8)(),`/users/${t}/info`),{bill:100,name:a,locale:"uk-UA"})}catch(s){throw t("setError",s),s}},async login({dispatch:e,commit:t},{email:r,password:i}){try{await(0,d.e5)(Si,r,i)}catch(a){throw t("setError",a),a}},async logout({commit:e}){await(0,d.w7)(Si),e("clearInfo")},getUid(){const e=Si.currentUser;return e?e.uid:null}}},p={state:{info:{}},getters:{info:e=>e.info},mutations:{setInfo(e,t){e.info=t},clearInfo(e){e.info={}}},actions:{async fetchInfo({dispatch:e,commit:t}){try{const r=await e("getUid"),i=(0,u.iH)((0,u.N8)(),`/users/${r}/info`),a=await(0,u.U2)(i),s=a.val();t("setInfo",s)}catch(r){throw t("setError",r),r}},async updateInfo({commit:e,dispatch:t,getters:r},i){try{const a=await t("getUid"),s={...r.info,...i},o=(0,u.iH)((0,u.N8)(),`/users/${a}/info`);await(0,u.Vx)(o,s),e("setInfo",s)}catch(a){throw e("setError",a),a}}}},g={actions:{async createCategory({commit:e,dispatch:t},{title:r,limit:i}){try{const e=await t("getUid"),a=(0,u.iH)((0,u.N8)(),`/users/${e}/categories`),s=await(0,u.VF)(a,{title:r,limit:i});return{title:r,limit:i,id:s.key}}catch(a){throw e("setError",a),a}},async fetchCategories({commit:e,dispatch:t}){try{const e=await t("getUid"),r=(0,u.iH)((0,u.N8)(),`/users/${e}/categories`),i=await(0,u.U2)(r),a=i.val()||{};return Object.keys(a).map((e=>({...a[e],id:e})))}catch(r){throw e("setError",r),r}},async fetchCategoryByID({commit:e,dispatch:t},r){try{const e=await t("getUid"),i=(0,u.iH)((0,u.N8)(),`/users/${e}/categories`),a=await(0,u.U2)(i),s=a.child(r).val()||{};return{...s,id:r}}catch(i){throw e("setError",i),i}},async updateCategory({commit:e,dispatch:t},{title:r,limit:i,id:a}){try{const e=await t("getUid"),s=(0,u.iH)((0,u.N8)(),`/users/${e}/categories/${a}`);await(0,u.Vx)(s,{title:r,limit:i})}catch(s){throw e("setError",s),s}}}},h={actions:{async createRecord({commit:e,dispatch:t},r){try{const e=await t("getUid"),i=(0,u.iH)((0,u.N8)(),`/users/${e}/records`);return await(0,u.VF)(i,r)}catch(i){throw e("setError",i),i}},async fetchRecords({commit:e,dispatch:t}){try{const e=await t("getUid"),r=(0,u.iH)((0,u.N8)(),`/users/${e}/records`),i=await(0,u.U2)(r),a=i.val()||{};return Object.keys(a).map((e=>({...a[e],id:e})))}catch(r){throw e("setError",r),r}},async fetchRecordByID({commit:e,dispatch:t},r){try{const e=await t("getUid"),i=(0,u.iH)((0,u.N8)(),`/users/${e}/records`),a=await(0,u.U2)(i),s=a.child(r).val()||{};return{...s,id:r}}catch(i){throw e("setError",i),i}}}},w=(0,c.MT)({state:{error:null},getters:{error:e=>e.error},mutations:{setError(e,t){e.error=t},clearError(e){e.error=null}},actions:{async fetchCurrency(){const e=new Headers;e.append("apikey","lJUynuk5Mo7JfHExMbu133JKWtbOYDhj");const t={method:"GET",redirect:"follow",headers:e},r=await fetch("https://api.apilayer.com/fixer/latest?base=UAH&symbols=UAH,USD,EUR",t);return await r.json()}},modules:{auth:m,info:p,category:g,record:h}}),y=JSON.parse('{"ProfileTitle":"Профіль","ProfileName":"Ім\'я","UpdateButton":"Оновити","Sidebar_Bill":"Рахунок","Sidebar_History":"Історія","Sidebar_Planning":"Планування","Sidebar_NewRecord":"Новий запис","Sidebar_Categories":"Категорії","Navbar_Exit":"Вийти","Create":"Створити","Category_Edit":"Редагувати","Category_Name":"Назва","Category_Limit":"Ліміт","Category_Add":"Категорію було додано","Category_Update":"Категорію було оновлено","Category_Dropdown":"Оберіть категорію","Amount":"Сума","Date":"Дата","Category":"Категорія","Categories_None":"Категорії відсутні.","Category_Create":"Створити нову категорію","Record_None":"Запис не знайдено.","Records_None":"Записи відсутні.","Record_Create":"Створити новий запис","Record_Created":"Запис успішно створено","RecordHistory":"Історія записів","NotEnoughMoney":"Недостатньо коштів на рахунку","Data_Updated":"Дані успішно оновлено","Type":"Тип","Open":"Відкрити","Description":"Опис","Currency_Bill":"Рахунок у валюті","Currency_Rate":"Курс валют","Currency":"Валюта","Rate":"Курс","Previous":"Назад","Next":"Вперед","Income":"Надходження","Outcome":"Витрати","Error_Common":"Щось пішло не так","MyWallet":"Мій гаманець","Password":"Пароль","Login":"Увійти","Register":"Зареєструватись","No_Account":"Немає акаунту?","Already_Have_Account":"Вже маєте акаунт?","CheckboxAgreement":"З правилами погоджуюсь","Error":"Помилка","Message_Logout":"Ви вийшли з системи","Message_Login":"Для початку ввійдіть в систему","Message_UserNotFound":"Користувача з таким e-mail не знайдено","Message_WrongPassword":"Ви ввели невірний пароль"}'),f=JSON.parse('{"ProfileTitle":"Profile","ProfileName":"Name","UpdateButton":"Update","Sidebar_Bill":"Bill","Sidebar_History":"History","Sidebar_Planning":"Planning","Sidebar_NewRecord":"New Record","Sidebar_Categories":"Categories","Navbar_Exit":"Exit","Create":"Create","Category_Edit":"Edit Category","Category_Name":"Name","Category_Limit":"Limit","Category_Add":"Category was added","Category_Update":"Category was updated","Category_Dropdown":"Choose a category","Amount":"Amount","Date":"Date","Category":"Category","Categories_None":"There are no categories.","Category_Create":"Create new category","Record_None":"There is no such record.","Records_None":"There are no records.","Record_Create":"Create a new record","Record_Created":"Record was successfully created","RecordHistory":"Records history","NotEnoughMoney":"There is not enough money on your account","Data_Updated":"Data was successfully updated","Type":"Type","Open":"Open","Description":"Description","Currency_Bill":"Your bill (in currency)","Currency_Rate":"Currency rate","Currency":"Currency","Rate":"Rate","Previous":"Previous","Next":"Next","Income":"Income","Outcome":"Outcome","Error_Common":"Something went wrong","MyWallet":"My wallet","Password":"Password","Login":"Login","Register":"Register","No_Account":"Don\'t have an account?","Already_Have_Account":"Already have an account?","CheckboxAgreement":"Agreed with the rules","Error":"Error","Message_Logout":"You logged out","Message_Login":"You have to login first","Message_UserNotFound":"There is no user with such an e-mail","Message_WrongPassword":"Password is incorrect"}');const v={"uk-UA":y,"en-US":f};function _(e){const t=w.getters.info.locale||"uk-UA";return v[t][e]||`[Localize error:] key ${e} not found`}var $={logout:_("Message_Logout"),login:_("Message_Login"),"auth/user-not-found":_("Message_UserNotFound"),"auth/wrong-password":_("Message_WrongPassword")},b={name:"EmptyLayout",computed:{error(){return this.$store.getters.error}},watch:{error(e){this.$error($[e.code]||_("Error_Common"))}}},C=r(89);const z=(0,C.Z)(b,[["render",n]]);var k=z,D=r(7139);const U={key:1,class:"app-main-layout"},F={class:"app-page"},x={class:"fixed-action-btn"},N=(0,a._)("i",{class:"large material-icons"},"add",-1);function H(e,t,r,i,s,o){const l=(0,a.up)("Loader"),n=(0,a.up)("Navbar"),c=(0,a.up)("Sidebar"),d=(0,a.up)("router-view"),u=(0,a.up)("router-link");return e.loading?((0,a.wg)(),(0,a.j4)(l,{key:0})):((0,a.wg)(),(0,a.iD)("div",U,[(0,a.Wm)(n,{onClicker:t[0]||(t[0]=t=>e.isOpen=!e.isOpen)}),((0,a.wg)(),(0,a.j4)(c,{isOpen:e.isOpen,key:o.locale},null,8,["isOpen"])),(0,a._)("main",{class:(0,D.C_)(["app-content",{full:!e.isOpen}])},[(0,a._)("div",F,[(0,a.Wm)(d)])],2),(0,a._)("div",x,[(0,a.Wm)(u,{class:"btn-floating btn-large blue",to:"/record"},{default:(0,a.w5)((()=>[N])),_:1})])]))}const A={class:"navbar orange lighten-1"},E={class:"nav-wrapper"},R={class:"navbar-left"},P=(0,a._)("i",{class:"material-icons black-text"},"dehaze",-1),I=[P],M={class:"black-text"},S={class:"right hide-on-small-and-down"},L={class:"dropdown-trigger black-text",href:"#","data-target":"dropdown",ref:"dropdown"},O=(0,a._)("i",{class:"material-icons right"},"arrow_drop_down",-1),T={id:"dropdown",class:"dropdown-content"},q=(0,a._)("i",{class:"material-icons"},"account_circle",-1),B=(0,a._)("li",{class:"divider",tabindex:"-1"},null,-1),j=(0,a._)("i",{class:"material-icons"},"assignment_return",-1);function V(e,t,r,s,o,l){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",A,[(0,a._)("div",E,[(0,a._)("div",R,[(0,a._)("a",{href:"#",onClick:t[0]||(t[0]=(0,i.iM)((t=>e.$emit("clicker")),["prevent"]))},I),(0,a._)("span",M,(0,D.zw)(e.$filters.dateFilter(this.date)),1)]),(0,a._)("ul",S,[(0,a._)("li",null,[(0,a._)("a",L,[(0,a.Uk)((0,D.zw)(l.userName)+" ",1),O],512),(0,a._)("ul",T,[(0,a._)("li",null,[(0,a.Wm)(n,{to:"/profile",class:"black-text"},{default:(0,a.w5)((()=>[q,(0,a.Uk)(" "+(0,D.zw)(e.$filters.localizeFilter("ProfileTitle")),1)])),_:1})]),B,(0,a._)("li",null,[(0,a._)("a",{href:"#",class:"black-text",onClick:t[1]||(t[1]=(0,i.iM)(((...e)=>l.logout&&l.logout(...e)),["prevent"]))},[j,(0,a.Uk)(" "+(0,D.zw)(e.$filters.localizeFilter("Navbar_Exit")),1)])])])])])])])}var W={name:"Navbar",data:()=>({date:new Date,interval:null,dropdown:null}),mounted(){this.dropdown=window.M.Dropdown.init(this.$refs.dropdown,{constrainWidth:!1}),this.interval=setInterval((()=>{this.date=new Date}),1e3)},beforeUnmount(){clearInterval(this.interval),this.dropdown&&this.dropdown.isUnmounted&&this.dropdown.unmount()},computed:{userName(){return this.$store.getters.info.name}},methods:{async logout(){await this.$store.dispatch("logout"),this.$router.push("/login?message=logout")}}};const Z=(0,C.Z)(W,[["render",V]]);var K=Z;const Y=["href","onClick"];function X(e,t,r,i,s,o){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("ul",{class:(0,D.C_)(["sidenav app-sidenav",{open:r.isOpen}])},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.links,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e.url,"active-class":"active",to:e.url,custom:""},{default:(0,a.w5)((({href:t,navigate:r,isExactActive:i})=>[(0,a._)("li",{class:(0,D.C_)([i&&"active"])},[(0,a._)("a",{href:t,onClick:r,class:"waves-effect waves-orange pointer"},(0,D.zw)(e.title),9,Y)],2)])),_:2},1032,["to"])))),128))],2)}var J={name:"Sidebar",props:{isOpen:{type:Boolean,default:!0}},data:()=>({links:[{title:_("Sidebar_Bill"),url:"/",exact:!0},{title:_("Sidebar_History"),url:"/history"},{title:_("Sidebar_Planning"),url:"/planning"},{title:_("Sidebar_NewRecord"),url:"/record"},{title:_("Sidebar_Categories"),url:"/categories"}]})};const G=(0,C.Z)(J,[["render",X]]);var Q=G,ee={name:"MainLayout",data:()=>({isOpen:!0,loading:!0}),async mounted(){Object.keys(this.$store.getters.info).length||await this.$store.dispatch("fetchInfo"),this.loading=!1},computed:{error(){return this.$store.getters.error},locale(){return this.$store.getters.info.locale}},watch:{error(e){this.$error($[e.code]||_("Error_Common"))}},components:{Navbar:K,Sidebar:Q}};const te=(0,C.Z)(ee,[["render",H]]);var re=te,ie={computed:{layout(){return(this.$route.meta.layout||"empty")+"-layout"}},components:{EmptyLayout:k,MainLayout:re}};const ae=(0,C.Z)(ie,[["render",o]]);var se=ae,oe=r(5431);(0,oe.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var le=r(2483);const ne={class:"card-content"},ce={class:"card-title"},de={class:"input-field"},ue=(0,a._)("label",{for:"email"},"Email",-1),me={key:0,class:"helper-text invalid"},pe={class:"input-field"},ge={for:"password"},he={key:0,class:"helper-text invalid"},we={class:"card-action"},ye={class:"btn waves-effect waves-light auth-submit",type:"submit"},fe=(0,a._)("i",{class:"material-icons right"},"send",-1),ve={class:"center"};function _e(e,t,r,s,o,l){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("form",{class:"card auth-card",onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>l.submitHandler&&l.submitHandler(...e)),["prevent"]))},[(0,a._)("div",ne,[(0,a._)("span",ce,(0,D.zw)(e.$filters.localizeFilter("MyWallet")),1),(0,a._)("div",de,[(0,a.wy)((0,a._)("input",{id:"email",type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),class:(0,D.C_)({invalid:e.v$.email.$error})},null,2),[[i.nr,e.email,void 0,{trim:!0}]]),ue,e.v$.email.$error?((0,a.wg)(),(0,a.iD)("small",me,(0,D.zw)(e.v$.email.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",pe,[(0,a.wy)((0,a._)("input",{id:"password",type:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),class:(0,D.C_)({invalid:e.v$.password.$error})},null,2),[[i.nr,e.password,void 0,{trim:!0}]]),(0,a._)("label",ge,(0,D.zw)(e.$filters.localizeFilter("Password")),1),e.v$.password.$error?((0,a.wg)(),(0,a.iD)("small",he,(0,D.zw)(e.v$.password.$errors[0].$message),1)):(0,a.kq)("",!0)])]),(0,a._)("div",we,[(0,a._)("div",null,[(0,a._)("button",ye,[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Login"))+" ",1),fe])]),(0,a._)("p",ve,[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("No_Account"))+" ",1),(0,a.Wm)(n,{to:"/register"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Register")),1)])),_:1})])])],32)}var $e=r(9117),be=r(3053),Ce={name:"Login",data:()=>({v$:(0,be.Xw)(),email:"",password:""}),mounted(){$[this.$route.query.message]&&this.$message($[this.$route.query.message])},methods:{async submitHandler(){if(this.v$.$validate(),this.v$.$error)return;const e={email:this.email,password:this.password};try{await this.$store.dispatch("login",e),this.$router.push("/")}catch(t){}}},validations:{email:{email:$e.Do,required:$e.C1},password:{required:$e.C1,minLength:(0,$e.Ei)(6)}}};const ze=(0,C.Z)(Ce,[["render",_e]]);var ke=ze;const De={class:"page-title"},Ue={key:1,class:"row"},Fe={key:1,class:"center"};function xe(e,t,r,i,s,o){const l=(0,a.up)("Loader"),n=(0,a.up)("CategoryCreate"),c=(0,a.up)("CategoryEdit");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",De,[(0,a._)("h3",null,(0,D.zw)(e.$filters.localizeFilter("Sidebar_Categories")),1)]),(0,a._)("section",null,[e.loading?((0,a.wg)(),(0,a.j4)(l,{key:0})):((0,a.wg)(),(0,a.iD)("div",Ue,[(0,a.Wm)(n,{onCreated:o.addCategory},null,8,["onCreated"]),e.categories.length?((0,a.wg)(),(0,a.j4)(c,{categories:this.categories,key:e.categories.length+e.updateCount,onUpdated:o.updateCategory},null,8,["categories","onUpdated"])):((0,a.wg)(),(0,a.iD)("p",Fe,(0,D.zw)(e.$filters.localizeFilter("Categories_None")),1))]))])])}const Ne={class:"col s12 m6"},He={class:"page-subtitle"},Ae={class:"input-field"},Ee={for:"name"},Re={key:0,class:"helper-text invalid"},Pe={class:"input-field"},Ie={for:"limit"},Me={key:0,class:"helper-text invalid"},Se={class:"btn waves-effect waves-light",type:"submit"},Le=(0,a._)("i",{class:"material-icons right"},"send",-1);function Oe(e,t,r,s,o,l){return(0,a.wg)(),(0,a.iD)("div",Ne,[(0,a._)("div",null,[(0,a._)("div",He,[(0,a._)("h4",null,(0,D.zw)(e.$filters.localizeFilter("Create")),1)]),(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>l.submitHandler&&l.submitHandler(...e)),["prevent"]))},[(0,a._)("div",Ae,[(0,a.wy)((0,a._)("input",{id:"name",type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t),class:(0,D.C_)({invalid:e.v$.title.$error})},null,2),[[i.nr,e.title]]),(0,a._)("label",Ee,(0,D.zw)(e.$filters.localizeFilter("Category_Name")),1),e.v$.title.$error?((0,a.wg)(),(0,a.iD)("span",Re,(0,D.zw)(e.v$.title.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",Pe,[(0,a.wy)((0,a._)("input",{id:"limit",type:"number","onUpdate:modelValue":t[1]||(t[1]=t=>e.limit=t),class:(0,D.C_)({invalid:e.v$.limit.$error})},null,2),[[i.nr,e.limit,void 0,{number:!0}]]),(0,a._)("label",Ie,(0,D.zw)(e.$filters.localizeFilter("Category_Limit")),1),e.v$.limit.$error?((0,a.wg)(),(0,a.iD)("span",Me,(0,D.zw)(e.v$.limit.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("button",Se,[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Create"))+" ",1),Le])],32)])])}var Te={name:"CategoryCreate",data:()=>({v$:(0,be.Xw)(),title:"",limit:100}),validations:{title:{required:$e.C1},limit:{required:$e.C1,minValue:(0,$e.uv)(100)}},mounted(){window.M.updateTextFields()},methods:{async submitHandler(){if(this.v$.$validate(),this.v$.$error)return;const e={title:this.title,limit:this.limit};try{const t=await this.$store.dispatch("createCategory",e);this.v$.$reset(),this.title="",this.limit=100,this.$message(_("Category_Add")),this.$emit("created",t)}catch(t){}}}};const qe=(0,C.Z)(Te,[["render",Oe]]);var Be=qe;const je={class:"col s12 m6"},Ve={class:"page-subtitle"},We={class:"input-field"},Ze=["value"],Ke={class:"input-field"},Ye={for:"name"},Xe={key:0,class:"helper-text invalid"},Je={class:"input-field"},Ge={for:"limit"},Qe={key:0,class:"helper-text invalid"},et={class:"btn waves-effect waves-light",type:"submit"},tt=(0,a._)("i",{class:"material-icons right"},"send",-1);function rt(e,t,r,s,o,l){return(0,a.wg)(),(0,a.iD)("div",je,[(0,a._)("div",null,[(0,a._)("div",Ve,[(0,a._)("h4",null,(0,D.zw)(e.$filters.localizeFilter("Category_Edit")),1)]),(0,a._)("form",{onSubmit:t[3]||(t[3]=(0,i.iM)(((...e)=>l.submitHandler&&l.submitHandler(...e)),["prevent"]))},[(0,a._)("div",We,[(0,a.wy)((0,a._)("select",{ref:"select","onUpdate:modelValue":t[0]||(t[0]=t=>e.current=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.categories,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,D.zw)(e.title),9,Ze)))),128))],512),[[i.bM,e.current]]),(0,a._)("label",null,(0,D.zw)(e.$filters.localizeFilter("Category_Dropdown")),1)]),(0,a._)("div",Ke,[(0,a.wy)((0,a._)("input",{id:"name",type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.title=t),class:(0,D.C_)({invalid:e.v$.title.$error})},null,2),[[i.nr,e.title]]),(0,a._)("label",Ye,(0,D.zw)(e.$filters.localizeFilter("Category_Name")),1),e.v$.title.$error?((0,a.wg)(),(0,a.iD)("span",Xe,(0,D.zw)(e.v$.title.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",Je,[(0,a.wy)((0,a._)("input",{id:"limit",type:"number","onUpdate:modelValue":t[2]||(t[2]=t=>e.limit=t),class:(0,D.C_)({invalid:e.v$.limit.$error})},null,2),[[i.nr,e.limit,void 0,{number:!0}]]),(0,a._)("label",Ge,(0,D.zw)(e.$filters.localizeFilter("Category_Limit")),1),e.v$.limit.$error?((0,a.wg)(),(0,a.iD)("span",Qe,(0,D.zw)(e.v$.limit.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("button",et,[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("UpdateButton"))+" ",1),tt])],32)])])}var it={name:"CategoryEdit",props:{categories:{type:Array,required:!0}},data:()=>({select:null,v$:(0,be.Xw)(),title:"",limit:100,current:null}),created(){const{id:e,title:t,limit:r}=this.categories[0];this.current=e,this.title=t,this.limit=r},watch:{current(e){const{title:t,limit:r}=this.categories.find((t=>t.id===e));this.title=t,this.limit=r}},mounted(){window.M.updateTextFields(),window.M.FormSelect.init(this.$refs.select)},unmounted(){this.select&&this.select.unmount&&this.select.destroy()},methods:{async submitHandler(){if(this.v$.$validate(),this.v$.$error)return;const e={id:this.current,title:this.title,limit:this.limit};try{await this.$store.dispatch("updateCategory",e),this.$message(_("Category_Update")),this.$emit("updated",e)}catch(t){}}},validations:{title:{required:$e.C1},limit:{required:$e.C1,minValue:(0,$e.uv)(100)}}};const at=(0,C.Z)(it,[["render",rt]]);var st=at,ot={name:"Categories",data:()=>({categories:[],loading:!0,updateCount:0}),async mounted(){this.categories=await this.$store.dispatch("fetchCategories"),this.loading=!1},methods:{addCategory(e){this.categories.push(e)},updateCategory(e){const t=this.categories.findIndex((t=>t.id===e.id));this.categories[t].title=e.title,this.categories[t].limit=e.limit,this.updateCount++}},components:{CategoryCreate:Be,CategoryEdit:st}};const lt=(0,C.Z)(ot,[["render",xe]]);var nt=lt;const ct={class:"card-content"},dt={class:"card-title"},ut={class:"input-field"},mt=(0,a._)("label",{for:"email"},"Email",-1),pt={key:0,class:"helper-text invalid"},gt={class:"input-field"},ht={for:"password"},wt={key:0,class:"helper-text invalid"},yt={class:"input-field"},ft={for:"name"},vt={key:0,class:"helper-text invalid"},_t={class:"card-action"},$t={class:"btn waves-effect waves-light auth-submit",type:"submit"},bt=(0,a._)("i",{class:"material-icons right"},"send",-1),Ct={class:"center"};function zt(e,t,r,s,o,l){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("form",{class:"card auth-card",onSubmit:t[4]||(t[4]=(0,i.iM)(((...e)=>l.submitHandler&&l.submitHandler(...e)),["prevent"]))},[(0,a._)("div",ct,[(0,a._)("span",dt,(0,D.zw)(e.$filters.localizeFilter("MyWallet")),1),(0,a._)("div",ut,[(0,a.wy)((0,a._)("input",{id:"email",type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),class:(0,D.C_)({invalid:e.v$.email.$error})},null,2),[[i.nr,e.email,void 0,{trim:!0}]]),mt,e.v$.email.$error?((0,a.wg)(),(0,a.iD)("small",pt,(0,D.zw)(e.v$.email.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",gt,[(0,a.wy)((0,a._)("input",{id:"password",type:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),class:(0,D.C_)({invalid:e.v$.password.$error})},null,2),[[i.nr,e.password,void 0,{trim:!0}]]),(0,a._)("label",ht,(0,D.zw)(e.$filters.localizeFilter("Password")),1),e.v$.password.$error?((0,a.wg)(),(0,a.iD)("small",wt,(0,D.zw)(e.v$.password.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",yt,[(0,a.wy)((0,a._)("input",{id:"name",type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.name=t),class:(0,D.C_)({invalid:e.v$.name.$error})},null,2),[[i.nr,e.name,void 0,{trim:!0}]]),(0,a._)("label",ft,(0,D.zw)(e.$filters.localizeFilter("ProfileName")),1),e.v$.name.$error?((0,a.wg)(),(0,a.iD)("small",vt,(0,D.zw)(e.v$.name.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("p",null,[(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=t=>e.checkboxAgree=t)},null,512),[[i.e8,e.checkboxAgree]]),(0,a._)("span",null,(0,D.zw)(e.$filters.localizeFilter("CheckboxAgreement")),1)])])]),(0,a._)("div",_t,[(0,a._)("div",null,[(0,a._)("button",$t,[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Register"))+" ",1),bt])]),(0,a._)("p",Ct,[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Already_Have_Account"))+" ",1),(0,a.Wm)(n,{to:"/login"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Login"))+"!",1)])),_:1})])])],32)}var kt={name:"Register",data:()=>({v$:(0,be.Xw)(),email:"",password:"",name:"",checkboxAgree:!1}),methods:{async submitHandler(){if(this.v$.$validate(),this.v$.$error)return;const e={email:this.email,password:this.password,name:this.name};try{await this.$store.dispatch("register",e),this.$router.push("/")}catch(t){}}},validations:{email:{email:$e.Do,required:$e.C1},password:{required:$e.C1,minLength:(0,$e.Ei)(6)},name:{required:$e.C1,minLength:(0,$e.Ei)(6)},checkboxAgree:{checked:e=>e}}};const Dt=(0,C.Z)(kt,[["render",zt]]);var Ut=Dt;const Ft={class:"page-title"},xt=(0,a._)("i",{class:"material-icons"},"refresh",-1),Nt=[xt],Ht={key:1,class:"row"};function At(e,t,r,i,s,o){const l=(0,a.up)("Loader"),n=(0,a.up)("HomeBill"),c=(0,a.up)("HomeCurrency");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",Ft,[(0,a._)("h3",null,(0,D.zw)(e.$filters.localizeFilter("Sidebar_Bill")),1),(0,a._)("button",{class:"btn waves-effect waves-light btn-small",onClick:t[0]||(t[0]=(...e)=>o.refresh&&o.refresh(...e))},Nt)]),e.loading?((0,a.wg)(),(0,a.j4)(l,{key:0})):((0,a.wg)(),(0,a.iD)("div",Ht,[(0,a.Wm)(n,{rates:e.currency.rates},null,8,["rates"]),(0,a.Wm)(c,{rates:e.currency.rates,date:e.currency.date},null,8,["rates","date"])]))])}const Et={class:"col s12 m6 l4"},Rt={class:"card light-blue bill-card"},Pt={class:"card-content white-text"},It={class:"card-title"};function Mt(e,t,r,i,s,o){return(0,a.wg)(),(0,a.iD)("div",Et,[(0,a._)("div",Rt,[(0,a._)("div",Pt,[(0,a._)("span",It,(0,D.zw)(e.$filters.localizeFilter("Currency_Bill")),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.currencies,(t=>((0,a.wg)(),(0,a.iD)("p",{key:t,class:"currency-line"},[(0,a._)("span",null,(0,D.zw)(e.$filters.currencyFilter(o.getCurrency(t),t)),1)])))),128))])])])}var St={name:"HomeBill",props:["rates"],data:()=>({currencies:["UAH","USD","EUR"]}),methods:{getCurrency(e){return this.$store.getters.info.bill*this.rates[e]}}};const Lt=(0,C.Z)(St,[["render",Mt]]);var Ot=Lt;const Tt={class:"col s12 m6 l8"},qt={class:"card orange darken-3 bill-card"},Bt={class:"card-content white-text"},jt={class:"card-header"},Vt={class:"card-title"};function Wt(e,t,r,i,s,o){return(0,a.wg)(),(0,a.iD)("div",Tt,[(0,a._)("div",qt,[(0,a._)("div",Bt,[(0,a._)("div",jt,[(0,a._)("span",Vt,(0,D.zw)(e.$filters.localizeFilter("Currency_Rate")),1)]),(0,a._)("table",null,[(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,(0,D.zw)(e.$filters.localizeFilter("Currency")),1),(0,a._)("th",null,(0,D.zw)(e.$filters.localizeFilter("Rate")),1),(0,a._)("th",null,(0,D.zw)(e.$filters.localizeFilter("Date")),1)])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.currencies,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,D.zw)(t),1),(0,a._)("td",null,(0,D.zw)(r.rates[t].toFixed(5)),1),(0,a._)("td",null,(0,D.zw)(e.$filters.dateFilter(r.date)),1)])))),128))])])])])])}var Zt={name:"HomeCurrency",props:["rates","date"],data:()=>({currencies:["UAH","USD","EUR"]})};const Kt=(0,C.Z)(Zt,[["render",Wt]]);var Yt=Kt,Xt={name:"Home",data:()=>({loading:!0,currency:null}),async mounted(){this.currency=await this.$store.dispatch("fetchCurrency"),this.loading=!1},methods:{async refresh(){this.loading=!0,this.currency=await this.$store.dispatch("fetchCurrency"),this.loading=!1}},components:{HomeBill:Ot,HomeCurrency:Yt}};const Jt=(0,C.Z)(Xt,[["render",At]]);var Gt=Jt;const Qt={class:"page-title"},er={class:"history-chart"},tr={key:1,class:"center"},rr={key:2};function ir(e,t,r,i,s,o){const l=(0,a.up)("HistoryChart"),n=(0,a.up)("Loader"),c=(0,a.up)("router-link"),d=(0,a.up)("HistoryTable"),u=(0,a.up)("Paginate");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",Qt,[(0,a._)("h3",null,(0,D.zw)(e.$filters.localizeFilter("RecordHistory")),1)]),(0,a._)("div",er,[(0,a.Wm)(l,{chartData:e.chartData},null,8,["chartData"])]),e.loading?((0,a.wg)(),(0,a.j4)(n,{key:0})):e.records.length?((0,a.wg)(),(0,a.iD)("section",rr,[(0,a.Wm)(d,{records:e.items},null,8,["records"]),(0,a.Wm)(u,{modelValue:e.page,"onUpdate:modelValue":t[0]||(t[0]=t=>e.page=t),"page-count":e.pageCount,"click-handler":e.pageChangeHandler,"prev-text":e.previousPage,"next-text":e.nextPage,"container-class":"pagination","page-class":"waves-effect"},null,8,["modelValue","page-count","click-handler","prev-text","next-text"])])):((0,a.wg)(),(0,a.iD)("p",tr,[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Records_None"))+" ",1),(0,a.Wm)(c,{to:"/record"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Record_Create")),1)])),_:1})]))])}const ar=(0,a._)("th",null,"#",-1),sr=["onClick"],or=(0,a._)("i",{class:"material-icons"},"open_in_new",-1),lr=[or];function nr(e,t,r,i,s,o){return(0,a.wg)(),(0,a.iD)("table",null,[(0,a._)("thead",null,[(0,a._)("tr",null,[ar,(0,a._)("th",null,(0,D.zw)(e.$filters.localizeFilter("Amount")),1),(0,a._)("th",null,(0,D.zw)(e.$filters.localizeFilter("Date")),1),(0,a._)("th",null,(0,D.zw)(e.$filters.localizeFilter("Category")),1),(0,a._)("th",null,(0,D.zw)(e.$filters.localizeFilter("Type")),1),(0,a._)("th",null,(0,D.zw)(e.$filters.localizeFilter("Open")),1)])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.records,((t,r)=>((0,a.wg)(),(0,a.iD)("tr",{key:t.id},[(0,a._)("td",null,(0,D.zw)(r+1),1),(0,a._)("td",null,(0,D.zw)(e.$filters.currencyFilter(t.amount)),1),(0,a._)("td",null,(0,D.zw)(e.$filters.dateFilter(t.date)),1),(0,a._)("td",null,(0,D.zw)(t.categoryName),1),(0,a._)("td",null,[(0,a._)("span",{class:(0,D.C_)(["white-text badge",[t.typeClass]])},(0,D.zw)(t.typeText),3)]),(0,a._)("td",null,[(0,a._)("button",{class:"btn-small btn",onClick:r=>e.$router.push(`/detail/${t.id}`)},lr,8,sr)])])))),128))])])}var cr={name:"HistoryTable",props:{records:{required:!0,type:Array}}};const dr=(0,C.Z)(cr,[["render",nr]]);var ur=dr,mr=r(4806),pr=r.n(mr),gr={data(){return{page:+this.$route.query.page||1,pageSize:5,pageCount:0,allItems:[],items:[]}},methods:{setupPagination(e){this.allItems=pr().chunk(e,this.pageSize),this.pageCount=pr().size(this.allItems),this.items=this.allItems[this.page-1]||this.allItems[0]},pageChangeHandler(e){this.$router.push(`${this.$route.path}?page=${e}`),this.items=this.allItems[e-1]||this.allItems[0]}}};function hr(e,t,r,i,s,o){const l=(0,a.up)("Pie");return(0,a.wg)(),(0,a.j4)(l,{"chart-options":e.chartOptions,"chart-data":e.chartData,"chart-id":e.chartId,plugins:e.plugins,"css-classes":e.cssClasses,styles:e.styles,width:e.width,height:e.height},null,8,["chart-options","chart-data","chart-id","plugins","css-classes","styles","width","height"])}var wr=r(6294),yr=r(741);yr.kL.register(yr.Dx,yr.u,yr.De,yr.qi,yr.uw);var fr=(0,a.aZ)({name:"PieChart",components:{Pie:wr.by},props:{chartId:{type:String,default:"pie-chart"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]},chartData:{type:Object,default:()=>{}}},data:()=>({chartOptions:{responsive:!0,maintainAspectRatio:!1}})});const vr=(0,C.Z)(fr,[["render",hr]]);var _r=vr,$r={name:"History",mixins:[gr],data:()=>({loading:!0,records:[],chartData:{},previousPage:_("Previous"),nextPage:_("Next")}),async mounted(){this.records=await this.$store.dispatch("fetchRecords");const e=await this.$store.dispatch("fetchCategories");this.setup(e),this.loading=!1},methods:{setup(e){const t=_("Income"),r=_("Outcome");this.setupPagination(this.records.map((i=>({...i,categoryName:e.find((e=>e.id===i.categoryID)).title,typeClass:"income"===i.type?"green":"red",typeText:"income"===i.type?t:r})))),this.chartData={labels:e.map((e=>e.title)),datasets:[{label:"Витрати за категоріями",data:e.map((e=>{const t=this.records.filter((t=>t.categoryID===e.id)).filter((e=>"outcome"===e.type)).reduce(((e,t)=>e+t.amount),0);return t})),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}},components:{HistoryTable:ur,HistoryChart:_r}};const br=(0,C.Z)($r,[["render",ir]]);var Cr=br;const zr={class:"page-title"},kr={key:1,class:"center"},Dr={class:"input-field"},Ur=["value"],Fr={class:"input-field"},xr={for:"amount"},Nr={key:0,class:"helper-text invalid"},Hr={class:"input-field"},Ar={for:"description"},Er={key:0,class:"helper-text invalid"},Rr={class:"btn waves-effect waves-light",type:"submit"},Pr=(0,a._)("i",{class:"material-icons right"},"send",-1);function Ir(e,t,r,s,o,l){const n=(0,a.up)("Loader"),c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",zr,[(0,a._)("h3",null,(0,D.zw)(e.$filters.localizeFilter("Sidebar_NewRecord")),1)]),e.loading?((0,a.wg)(),(0,a.j4)(n,{key:0})):e.categories.length?((0,a.wg)(),(0,a.iD)("form",{key:2,class:"form",onSubmit:t[5]||(t[5]=(0,i.iM)(((...e)=>l.submitHandler&&l.submitHandler(...e)),["prevent"]))},[(0,a._)("div",Dr,[(0,a.wy)((0,a._)("select",{ref:"select","onUpdate:modelValue":t[0]||(t[0]=t=>e.categoryByDefault=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.categories,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,D.zw)(e.title),9,Ur)))),128))],512),[[i.bM,e.categoryByDefault]]),(0,a._)("label",null,(0,D.zw)(e.$filters.localizeFilter("Category_Dropdown")),1)]),(0,a._)("p",null,[(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{class:"with-gap",name:"type",type:"radio",value:"income","onUpdate:modelValue":t[1]||(t[1]=t=>e.type=t)},null,512),[[i.G2,e.type]]),(0,a._)("span",null,(0,D.zw)(e.$filters.localizeFilter("Income")),1)])]),(0,a._)("p",null,[(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{class:"with-gap",name:"type",type:"radio",value:"outcome","onUpdate:modelValue":t[2]||(t[2]=t=>e.type=t)},null,512),[[i.G2,e.type]]),(0,a._)("span",null,(0,D.zw)(e.$filters.localizeFilter("Outcome")),1)])]),(0,a._)("div",Fr,[(0,a.wy)((0,a._)("input",{id:"amount",type:"number","onUpdate:modelValue":t[3]||(t[3]=t=>e.amount=t),class:(0,D.C_)({invalid:e.v$.amount.$error})},null,2),[[i.nr,e.amount,void 0,{number:!0}]]),(0,a._)("label",xr,(0,D.zw)(e.$filters.localizeFilter("Amount")),1),e.v$.amount.$error?((0,a.wg)(),(0,a.iD)("span",Nr,(0,D.zw)(e.v$.amount.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",Hr,[(0,a.wy)((0,a._)("input",{id:"description",type:"text","onUpdate:modelValue":t[4]||(t[4]=t=>e.description=t),class:(0,D.C_)({invalid:e.v$.description.$error})},null,2),[[i.nr,e.description]]),(0,a._)("label",Ar,(0,D.zw)(e.$filters.localizeFilter("Description")),1),e.v$.description.$error?((0,a.wg)(),(0,a.iD)("span",Er,(0,D.zw)(e.v$.description.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("button",Rr,[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Create"))+" ",1),Pr])],32)):((0,a.wg)(),(0,a.iD)("p",kr,[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Categories_None"))+" ",1),(0,a.Wm)(c,{to:"/categories"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Category_Create")),1)])),_:1})]))])}const Mr={class:"app-loader"},Sr={class:"preloader-wrapper active"},Lr=(0,a.uE)('<div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div>',3),Or=[Lr];function Tr(e,t,r,i,s,o){return(0,a.wg)(),(0,a.iD)("div",Mr,[(0,a._)("div",Sr,[(0,a._)("div",{class:(0,D.C_)(["spinner-layer",o.color])},Or,2)])])}var qr={name:"Loader",computed:{color(){const e=["spinner-red-only","spinner-blue-only","spinner-green-only"];return e[Math.floor(3*Math.random())]}}};const Br=(0,C.Z)(qr,[["render",Tr]]);var jr=Br,Vr={name:"Record",components:{Loader:jr},data:()=>({categories:[],select:null,categoryByDefault:null,loading:!0,type:"outcome",amount:1,description:"",v$:(0,be.Xw)()}),async mounted(){this.categories=await this.$store.dispatch("fetchCategories"),this.loading=!1,this.categories.length&&(this.categoryByDefault=this.categories[0].id),setTimeout((()=>{window.M.FormSelect.init(this.$refs.select),window.M.updateTextFields()}),0)},unmounted(){this.select&&this.select.unmount&&this.select.destroy()},computed:{canCreateRecord(){return"income"===this.type||this.$store.getters.info.bill>=this.amount}},methods:{async submitHandler(){if(this.v$.$validate(),!this.v$.$error)if(this.canCreateRecord)try{const e={categoryID:this.categoryByDefault,amount:this.amount,description:this.description,type:this.type,date:(new Date).toJSON()};await this.$store.dispatch("createRecord",e);const t="income"===this.type?this.$store.getters.info.bill+this.amount:this.$store.getters.info.bill-this.amount;await this.$store.dispatch("updateInfo",{bill:t}),this.$message(_("Record_Created")),this.v$.$reset(),this.amount=1,this.description=""}catch(e){}else this.$message(`${_("NotEnoughMoney")} (${this.amount-this.$store.getters.info.bill})`)}},validations:{amount:{required:$e.C1,minValue:(0,$e.uv)(1)},description:{required:$e.C1,minLength:(0,$e.Ei)(1)}}};const Wr=(0,C.Z)(Vr,[["render",Ir]]);var Zr=Wr;const Kr=e=>((0,a.dD)("data-v-f03f7ac2"),e=e(),(0,a.Cn)(),e),Yr={class:"page-title"},Xr={class:"input-field"},Jr={for:"description"},Gr={key:0,class:"helper-text invalid"},Qr={class:"switch"},ei=(0,a.Uk)(" English "),ti=Kr((()=>(0,a._)("span",{class:"lever"},null,-1))),ri=(0,a.Uk)(" Українська "),ii={class:"btn waves-effect waves-light",type:"submit"},ai=Kr((()=>(0,a._)("i",{class:"material-icons right"},"send",-1)));function si(e,t,r,s,o,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",Yr,[(0,a._)("h3",null,(0,D.zw)(e.$filters.localizeFilter("ProfileTitle")),1)]),(0,a._)("form",{class:"form",onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>l.submitHandler&&l.submitHandler(...e)),["prevent"]))},[(0,a._)("div",Xr,[(0,a.wy)((0,a._)("input",{id:"description",type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),class:(0,D.C_)({invalid:e.v$.name.$error})},null,2),[[i.nr,e.name,void 0,{trim:!0}]]),(0,a._)("label",Jr,(0,D.zw)(e.$filters.localizeFilter("ProfileName")),1),e.v$.name.$error?((0,a.wg)(),(0,a.iD)("small",Gr,(0,D.zw)(e.v$.name.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",Qr,[(0,a._)("label",null,[ei,(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=t=>e.isLocaleUA=t)},null,512),[[i.e8,e.isLocaleUA]]),ti,ri])]),(0,a._)("button",ii,[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("UpdateButton"))+" ",1),ai])],32)])}var oi={name:"Profile",data:()=>({v$:(0,be.Xw)(),name:"",isLocaleUA:!0}),mounted(){this.name=this.$store.getters.info.name,this.isLocaleUA="uk-UA"===this.$store.getters.info.locale,setTimeout((()=>{window.M.updateTextFields()}),0)},methods:{async submitHandler(){if(this.v$.$validate(),!this.v$.$error)try{await this.$store.dispatch("updateInfo",{name:this.name,locale:this.isLocaleUA?"uk-UA":"en-US"}),this.$message(_("Data_Updated"))}catch(e){}}},validations:{name:{required:$e.C1,minLength:(0,$e.Ei)(6)}}};const li=(0,C.Z)(oi,[["render",si],["__scopeId","data-v-f03f7ac2"]]);var ni=li;const ci={class:"page-title"},di={key:1,class:"center"},ui={key:2},mi={class:"progress"};function pi(e,t,r,i,s,o){const l=(0,a.up)("Loader"),n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",ci,[(0,a._)("h3",null,(0,D.zw)(e.$filters.localizeFilter("Sidebar_Planning")),1),(0,a._)("h4",null,(0,D.zw)(e.$filters.currencyFilter(o.getInfoBill)),1)]),e.loading?((0,a.wg)(),(0,a.j4)(l,{key:0})):e.categories.length?((0,a.wg)(),(0,a.iD)("section",ui,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.categories,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t.id},[(0,a._)("p",null,[(0,a._)("strong",null,(0,D.zw)(t.title)+":",1),(0,a.Uk)(" "+(0,D.zw)(e.$filters.currencyFilter(t.spend))+" з "+(0,D.zw)(e.$filters.currencyFilter(t.limit)),1)]),(0,a._)("div",mi,[(0,a._)("div",{class:(0,D.C_)(["determinate",[t.progressColor]]),style:(0,D.j5)({width:t.progressPercent+"%"})},null,6)])])))),128))])):((0,a.wg)(),(0,a.iD)("p",di,[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Categories_None"))+" ",1),(0,a.Wm)(n,{to:"/categories"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Category_Create")),1)])),_:1})]))])}var gi={name:"Planning",components:{},data:()=>({loading:!0,categories:[]}),computed:{getInfoBill(){return this.$store.getters.info.bill}},async mounted(){const e=await this.$store.dispatch("fetchRecords"),t=await this.$store.dispatch("fetchCategories");this.categories=t.map((t=>{const r=e.filter((e=>e.categoryID===t.id)).filter((e=>"outcome"===e.type)).reduce(((e,t)=>e+t.amount),0),i=100*r/t.limit,a=i>100?100:i,s=i<60?"green":i<100?"yellow":"red";return{...t,progressPercent:a,progressColor:s,spend:r}})),this.loading=!1}};const hi=(0,C.Z)(gi,[["render",pi]]);var wi=hi;const yi={key:1},fi={class:"breadcrumb-wrap"},vi={class:"row"},_i={class:"col s12 m6"},$i={class:"card-content white-text"},bi=(0,a.Uk)("` "),Ci={key:2,class:"center"};function zi(e,t,r,s,o,l){const n=(0,a.up)("Loader"),c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[e.loading?((0,a.wg)(),(0,a.j4)(n,{key:0})):e.record?((0,a.wg)(),(0,a.iD)("div",yi,[(0,a._)("div",fi,[(0,a.Wm)(c,{to:"/history",class:"breadcrumb"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,D.zw)(e.$filters.localizeFilter("Sidebar_History")),1)])),_:1}),(0,a._)("a",{class:"breadcrumb",onClick:t[0]||(t[0]=(0,i.iM)((()=>{}),["prevent"]))},(0,D.zw)(e.record.typeText),1)]),(0,a._)("div",vi,[(0,a._)("div",_i,[(0,a._)("div",{class:(0,D.C_)(["card",[e.record.typeClass]])},[(0,a._)("div",$i,[(0,a._)("p",null,(0,D.zw)(e.$filters.localizeFilter("Description"))+": "+(0,D.zw)(e.record.description),1),(0,a._)("p",null,(0,D.zw)(e.$filters.localizeFilter("Amount"))+": "+(0,D.zw)(e.$filters.currencyFilter(e.record.amount)),1),(0,a._)("p",null,(0,D.zw)(e.$filters.localizeFilter("Category"))+": "+(0,D.zw)(e.record.categoryName),1),(0,a._)("small",null,(0,D.zw)(e.$filters.localizeFilter("Date"))+": "+(0,D.zw)(e.$filters.dateFilter(e.record.date,"datetime")),1)])],2)])]),bi])):((0,a.wg)(),(0,a.iD)("p",Ci,(0,D.zw)(e.$filters.localizeFilter("Record_None")),1))])}var ki={name:"DetailRecord",components:{Loader:jr},data:()=>({loading:!0,record:null}),async mounted(){const e=(0,le.yj)(),t=e.params.id,r=await this.$store.dispatch("fetchRecordByID",t),i=await this.$store.dispatch("fetchCategoryByID",r.categoryID),a=_("Income"),s=_("Outcome");this.record={...r,categoryName:i.title,typeClass:"income"===r.type?"green":"red",typeText:"income"===r.type?a:s},this.loading=!1}};const Di=(0,C.Z)(ki,[["render",zi]]);var Ui=Di;const Fi=[{path:"/register",name:"register",meta:{layout:"empty"},component:Ut},{path:"/login",name:"login",meta:{layout:"empty"},component:ke},{path:"/",name:"home",meta:{layout:"main",auth:!0},component:Gt},{path:"/categories",name:"categories",meta:{layout:"main",auth:!0},component:nt},{path:"/history",name:"history",meta:{layout:"main",auth:!0},component:Cr},{path:"/record",name:"record",meta:{layout:"main",auth:!0},component:Zr},{path:"/profile",name:"profile",meta:{layout:"main",auth:!0},component:ni},{path:"/planning",name:"planning",meta:{layout:"main",auth:!0},component:wi},{path:"/detail/:id",name:"detail",meta:{layout:"main",auth:!0},component:Ui}],xi=(0,le.p7)({history:(0,le.PO)("/"),routes:Fi});xi.beforeEach(((e,t,r)=>{const i=Si.currentUser,a=e.matched.some((e=>e.meta.auth));a&&!i?r("/login?message=login"):r()}));var Ni=xi,Hi=(r(5778),r(4275)),Ai={install(e){e.config.globalProperties.$message=function(e){window.M.toast({html:e,classes:"rounded"})},e.config.globalProperties.$error=function(e){window.M.toast({html:`${_("Error")}: ${e}`,classes:"rounded"})}}},Ei=r(4584);function Ri(e,t="UAH"){const r=("uk-UA"===w.getters.info.locale?"ru-RU":w.getters.info.locale)||"ru-RU";return new Intl.NumberFormat(r,{style:"currency",currency:t}).format(e)}function Pi(e,t="date"){const r={day:"2-digit",month:"long",year:"numeric"};t.includes("time")&&(r.hour="2-digit",r.minute="2-digit",r.second="2-digit");const i=w.getters.info.locale||"uk-UA";return new Intl.DateTimeFormat(i,r).format(new Date(e))}const Ii={apiKey:"AIzaSyDKoisGUQ4pQSFARTrBVm7DewgUx5kDIQM",authDomain:"crm-system-vue3-20361.firebaseapp.com",projectId:"crm-system-vue3-20361",storageBucket:"crm-system-vue3-20361.appspot.com",messagingSenderId:"209477176182",appId:"1:209477176182:web:781f3af105ab005ff68857",measurementId:"G-D9HPWQPX7K"},Mi=(0,Hi.ZF)(Ii),Si=(0,d.v0)(Mi);(0,u.N8)(Mi);let Li;Si.onAuthStateChanged((()=>{Li||(Li=(0,i.ri)(se).use(w).use(Ni).use(Ai).component("Loader",jr).component("Paginate",Ei.Z),Li.config.globalProperties.$filters={currencyFilter:Ri,dateFilter:Pi,localizeFilter:_},Li.mount("#app"))}))}},t={};function r(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,function(){var e=[];r.O=function(t,i,a,s){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],s=e[d][2];for(var l=!0,n=0;n<i.length;n++)(!1&s||o>=s)&&Object.keys(r.O).every((function(e){return r.O[e](i[n])}))?i.splice(n--,1):(l=!1,s<o&&(o=s));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[i,a,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,s,o=i[0],l=i[1],n=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(n)var d=n(r)}for(t&&t(i);c<o.length;c++)s=o[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(d)},i=self["webpackChunkvue_crm"]=self["webpackChunkvue_crm"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(3772)}));i=r.O(i)})();
//# sourceMappingURL=app.9170b831.js.map